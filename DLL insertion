import java.lang.*;

class DoublyLinkedList {
    Node start;
    class Node {
        int data;
        Node next, prev;
        Node(int num) {
            data = num;
            next = null;
            prev = null;
        }
    }


    public void insertBeginning(int data) {
        // Creating newNode memory & assigning data value
        Node newNode = new Node(data);

        // If the list is empty, newNode becomes the start
    if (start == null) {
          start = newNode;
    } 
    else {
            newNode.next = start;
            start.prev = newNode;
            start = newNode;
       }
    }

    public void insertAfter(int pos, int data) {
        int size = calcSize(head);
        if (n < 1 || len < n)
    System.out.println("Invalid position");
        else {
        Node newNode = new Node(data);
            newNode.next = null;
          newNode.prev = null;
             Node tptr = start;
           while (--pos > 0) 
                tptr = tptr.next;
    
           
            tptr.next.prev = newNode;
            newNode.next = tptr.next;
           newNode.prev = tptr;
           tptr.next = newNode;
        }
    }
    public void displayDLL() {
        Node tptr = start;
        Node end = null;

        System.out.print("\nIn forward: ");
        while (tptr != null) {
            System.out.print(tptr.data + "->");
             end = tptr;
             tptr = tptr.next;
             
        }

        System.out.print("\nIn backward: ");
        while (end != null) {
            System.out.print(end.data + "<-");
            end = end.prev;
        }
        System.out.println();
    }
    
     public void insertEnd(int data) {
        // Creating newNode memory & assigning data value
        Node newNode = new Node(data);

        // assign data
        // since this will be the last node its next will be NULL
        newNode.next = null;

        //if we are entering the first node
        if (start == null) {
            start = newNode;
            newNode.prev = null;
            return;
        }

        Node tptr = start;

        // traverse to the current last node
        while (tptr.next != null)
            tptr = tptr.next;

        // assign current last node's next to this new node
        // assign new node's previous to this last node
        tptr.next = newNode;
        newNode.prev = tptr;
        // new_node becomes the last node now

    }
}

public class Main {
    public static void main(String args[]) {
        DoublyLinkedList obj = new DoublyLinkedList();

        obj.insertBeginning(3);
        obj.insertBeginning(2);
        obj.insertBeginning(1);

        obj.displayDLL();
       System.out.println(); 
        obj.insertEnd(4);
        obj.insertEnd(6);
    obj.insertEnd(7);
    obj.displayDLL();
    }
}
